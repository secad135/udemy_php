# جزوه: کار با فرم‌ها در HTML و PHP

در این جزوه یاد می‌گیریم چگونه داده‌ها را از کاربر دریافت کنیم و در سمت سرور با استفاده از PHP پردازش کنیم.

---

## مقدمه

زمانی که کاربر صفحه‌ای از وب‌سایت شما را مشاهده می‌کند، سرور معمولاً داده‌هایی به صورت HTML برای مرورگر کاربر ارسال می‌کند. اما اگر بخواهیم داده‌ای از کاربر دریافت کنیم، باید از **فرم‌ها (Forms)** در HTML استفاده کنیم.

با استفاده از فرم، کاربر می‌تواند داده‌ای را وارد کرده و آن را از مرورگر به سرور ارسال کند. در سمت سرور، می‌توانیم با زبان‌هایی مانند **PHP** این داده را پردازش کنیم.

---

## ایجاد یک فرم ساده

برای افزودن فرم به یک صفحه وب، از تگ `<form>` استفاده می‌کنیم. درون آن کنترل‌هایی مانند **input** و **button** قرار می‌دهیم.

### مثال: فایل `form.php`

```php
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Form Example</title>
</head>
<body>
    <form action="process_form.php">
        <input type="text" name="username" placeholder="نام خود را وارد کنید">
        <button type="submit">ارسال</button>
    </form>
</body>
</html>
```

در این مثال:

* تگ `<form>` دارای ویژگی `action` است که مسیر فایل PHP مقصد را مشخص می‌کند (در اینجا `process_form.php`).
* کنترل `<input>` برای وارد کردن داده توسط کاربر است.
* دکمه `<button>` برای ارسال فرم به سرور است.

---

## پردازش داده در سمت سرور

هنگامی که کاربر فرم را ارسال می‌کند، مرورگر داده‌ها را به سرور ارسال کرده و فایل مشخص‌شده در `action` اجرا می‌شود.

### مثال: فایل `process_form.php`

```php
<?php
print_r($_GET);
?>
```

در اینجا:

* داده‌های ارسال‌شده از فرم در آرایه‌ی سراسری `$_GET` قرار می‌گیرند.
* با تابع `print_r` محتوای آرایه چاپ می‌شود.

اگر در فرم مقداری وارد کنیم، مثلاً «Ali»، و فرم را ارسال کنیم، در نوار آدرس مرورگر می‌بینیم:

```
process_form.php?username=Ali
```

و در خروجی:

```
Array ( [username] => Ali )
```

---

## ارسال فرم به خودش (Self-submitting Form)

اگر ویژگی `action` را حذف کنیم:

```html
<form>
```

فرم به خودش ارسال می‌شود. یعنی همان صفحه دوباره بارگذاری می‌شود و داده در query string قرار می‌گیرد.

### مثال:

```php
<?php
print_r($_GET);
?>
<!DOCTYPE html>
<html>
<body>
    <form>
        <input type="text" name="username">
        <button type="submit">ارسال</button>
    </form>
</body>
</html>
```

در این حالت:

* وقتی فرم را برای اولین‌بار باز می‌کنیم، آرایه `$_GET` خالی است.
* پس از وارد کردن مقدار و ارسال، صفحه دوباره بارگذاری می‌شود و مقدار در `$_GET` ظاهر می‌گردد.

---

## مزیت ارسال فرم به خودش

این روش رایج است زیرا:

* می‌توان فرم را **دوباره نمایش داد** تا کاربر اشتباهات خود را اصلاح کند.
* می‌توان بررسی کرد که آیا تمام فیلدهای ضروری پر شده‌اند یا نه.
* می‌توان پیام‌های خطا یا موفقیت را در همان صفحه نمایش داد.

---

## جمع‌بندی

| مفهوم             | توضیح                                                         |
| ----------------- | ------------------------------------------------------------- |
| `<form>`          | تگ اصلی برای ساخت فرم در HTML                                 |
| `action`          | تعیین مقصد ارسال داده‌ها                                      |
| `$_GET`           | متغیر سراسری در PHP برای دریافت داده‌های ارسال‌شده با متد GET |
| ارسال فرم به خودش | فرم بدون ویژگی action که داده را به همان صفحه می‌فرستد        |

---

### تمرین‌ها

1. فرم را طوری تغییر دهید که از متد POST استفاده کند و داده‌ها در `$_POST` دریافت شوند.
2. بررسی کنید اگر فیلد خالی بود، پیام خطا نمایش داده شود.
3. فرم را طوری بسازید که پس از ارسال، مقدار قبلی کاربر در input باقی بماند.

---

> ✅ با یادگیری این مفاهیم، آماده خواهید بود تا فرم‌های کامل‌تری شامل چندین فیلد و اعتبارسنجی سمت سرور در PHP بسازید.
