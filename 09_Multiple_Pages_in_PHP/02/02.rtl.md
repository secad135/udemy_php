# ุฌุฒูู ุขููุฒุด PHP: ุฏุฑุงูุช ุฏุงุฏู ุงุฒ URL ุจุง ุงุณุชูุงุฏู ุงุฒ Query String ู $_GET

---

## ๐ฏ ูุฏู ุฏุฑุณ

ุฏุฑ ุงู ุจุฎุด ุงุฏ ูโฺฏุฑู ฺฉู ฺฺฏููู ุดูุงุณูโ ูุฑ ููุงูู (id) ุฑุง ุงุฒ ุทุฑู **ุขุฏุฑุณ URL** ุจู ุงุณฺฉุฑูพุช PHP ุงุฑุณุงู ฺฉูู ุชุง ุจุชูุงูู ููุงูุงุช ูพูุง ุจุณุงุฒู. ุจุฑุง ุงู ฺฉุงุฑ ุงุฒ **Query String** ู ูุชุบุฑ ุณุฑุงุณุฑ **`$_GET`** ุงุณุชูุงุฏู ูโฺฉูู.

---

## ๐ ููููู Query String

Query String (ุฑุดุชูโ ูพุฑุณโูุฌู) ุจุฎุด ุงุฒ ุขุฏุฑุณ ูุจ ุงุณุช ฺฉู ูพุณ ุงุฒ ุนูุงูุช ุณุคุงู `?` ูุฑุงุฑ ูโฺฏุฑุฏ ู ุฏุงุฏูโูุง ุฑุง ุจู ุงุณฺฉุฑูพุช ูโูุฑุณุชุฏ.

**ูุซุงู:**

```
article.php?id=3
```

ุฏุฑ ุงูุฌุง:

* `id` ูุงู ูุชุบุฑ ุงุณุช.
* `3` ููุฏุงุฑ ุขู ุงุณุช.

---

## ๐งฉ Super Globalูุง ุฏุฑ PHP

PHP ฺูุฏ ูุชุบุฑ ุณุฑุงุณุฑ ุฏุงุฑุฏ ฺฉู ููุดู ู ุฏุฑ ูููโุฌุง ุฏุฑ ุฏุณุชุฑุณโุงูุฏ. ุจุฑุง ฺฉุงุฑ ุจุง Query Stringุ ุฏู ููุฑุฏ ูููโุงูุฏ:

1. **`$_SERVER`** โ ุดุงูู ุงุทูุงุนุงุช ูุฑุจูุท ุจู ุฏุฑุฎูุงุณุช (Request) ูุนู ุงุณุช. ฺฉ ุงุฒ ฺฉูุฏูุง ุขู `QUERY_STRING` ุงุณุช.
2. **`$_GET`** โ ุขุฑุงูโุง ุงูุฌูู ุงุณุช ฺฉู ุชูุงู ูุชุบุฑูุง ููุฌูุฏ ุฏุฑ Query String ุฑุง ุจูโุตูุฑุช ฺฉูุฏ ู ููุฏุงุฑ ุฏุฑ ุฎูุฏ ุฐุฎุฑู ูโฺฉูุฏ.

---

## ๐งช ูุซุงู: ูุงู `querystring.php`

```php
<?php

var_dump($_SERVER["QUERY_STRING"]);
var_dump($_GET);
```

ุงฺฏุฑ ุฏุฑ ูุฑูุฑฺฏุฑ ุจููุณู:

```
querystring.php?id=1&name=Ali
```

ุฎุฑูุฌ:

```php
string(10) "id=1&name=Ali"
array(2) {
  ["id"]=> string(1) "1"
  ["name"]=> string(3) "Ali"
}
```

๐น ุชูุฌู ฺฉูุฏ: ุชูุงู ููุงุฏุฑ ุจู ุตูุฑุช ุฑุดุชู (string) ุฐุฎุฑู ูโุดููุฏุ ุญุช ุงฺฏุฑ ุนุฏุฏ ุจุงุดูุฏ.

---

## ๐งฑ ููุงุด ูุณุช ููุงูุงุช ุฏุฑ `index.php`

ุฏุฑ ุงู ูุงู ููุฑุณุช ููุงูุงุช ุฑุง ุงุฒ ูพุงฺฏุงู ุฏุงุฏู ูโฺฏุฑู ู ุจุฑุง ูุฑ ููุงูู ููฺฉ ุจู `article.php` ูโุณุงุฒู ุชุง ุดูุงุณูโ ุขู ุฏุฑ Query String ุงุฑุณุงู ุดูุฏ.

```php
<?php

$db_host = "localhost";
$db_name = "cms";
$db_user = "cms_www";
$db_pass = "64w6H2rOJ1zwLRyk";

$conn = mysqli_connect($db_host, $db_user, $db_pass, $db_name);

if (mysqli_connect_error()) {
    echo mysqli_connect_error();
    exit;
}

$sql = "SELECT * FROM article ORDER BY published_at;";
$results = mysqli_query($conn, $sql);

if ($results === false) {
    echo mysqli_error($conn);
} else {
    $articles = mysqli_fetch_all($results, MYSQLI_ASSOC);
}
?>

<!DOCTYPE html>
<html>
<head>
    <title>My blog</title>
    <meta charset="utf-8">
</head>
<body>
<header>
    <h1>My blog</h1>
</header>
<main>
<?php if (empty($articles)): ?>
    <p>No articles found.</p>
<?php else: ?>
    <ul>
        <?php foreach ($articles as $article): ?>
            <li>
                <article>
                    <h2><a href="article.php?id=<?= $article['id']; ?>"><?= $article['title']; ?></a></h2>
                    <p><?= $article['content']; ?></p>
                </article>
            </li>
        <?php endforeach; ?>
    </ul>
<?php endif; ?>
</main>
</body>
</html>
```

๐น ุฏุฑ ุฎุท ููฺฉุ ููุฏุงุฑ `id` ูุฑ ููุงูู ุฏุฑ Query String ูุฑุงุฑ ูโฺฏุฑุฏ.

---

## ๐ ููุงุด ููุงูู ุชฺฉ ุฏุฑ `article.php`

ุฏุฑ ุงู ูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ `$_GET['id']` ุดูุงุณูโ ููุงูู ุฑุง ุงุฒ ุขุฏุฑุณ ูโฺฏุฑู ู ููุงููโ ูุฑุจูุทู ุฑุง ุงุฒ ูพุงฺฏุงู ุฏุงุฏู ููุงุด ูโุฏูู.

```php
<?php

$db_host = "localhost";
$db_name = "cms";
$db_user = "cms_www";
$db_pass = "64w6H2rOJ1zwLRyk";

$conn = mysqli_connect($db_host, $db_user, $db_pass, $db_name);

if (mysqli_connect_error()) {
    echo mysqli_connect_error();
    exit;
}

$sql = "SELECT * FROM article WHERE id = " . $_GET['id'];
$results = mysqli_query($conn, $sql);

if ($results === false) {
    echo mysqli_error($conn);
} else {
    $article = mysqli_fetch_assoc($results);
}
?>

<!DOCTYPE html>
<html>
<head>
    <title>My blog</title>
    <meta charset="utf-8">
</head>
<body>
<header>
    <h1>My blog</h1>
</header>
<main>
<?php if ($article === null): ?>
    <p>Article not found.</p>
<?php else: ?>
    <article>
        <h2><?= $article['title']; ?></h2>
        <p><?= $article['content']; ?></p>
    </article>
<?php endif; ?>
</main>
</body>
</html>
```

๐น ุญุงูุง ุงฺฏุฑ ุฏุฑ ูุฑูุฑฺฏุฑ ุจููุณู:

```
article.php?id=1
```

ููุงููโุง ุจุง ุดูุงุณูโ ฑ ููุงุด ุฏุงุฏู ูโุดูุฏ. ุงฺฏุฑ ุนุฏุฏ ุฑุง ุชุบุฑ ุฏููุ ููุงููโ ุฏฺฏุฑ ุจุงุฑฺฏุฐุงุฑ ุฎูุงูุฏ ุดุฏ.

---

## ๐ ุงุฑุชุจุงุท ุจู ุตูุญุงุช

ุงฺฉููู:

* `index.php` โ ููุฑุณุช ููุงูุงุช ุฑุง ูุดุงู ูโุฏูุฏ ู ููฺฉ ุจู ูุฑ ููุงูู ุฏุงุฑุฏ.
* `article.php` โ ุดูุงุณูโ ููุงูู ุฑุง ุงุฒ URL ูโฺฏุฑุฏ ู ูุญุชูุง ุขู ุฑุง ููุงุด ูโุฏูุฏ.

ูุฑ ููฺฉ ุจู ููุงู ูุงู ุงุดุงุฑู ุฏุงุฑุฏ ุงูุง ุดูุงุณูโ ูุชูุงูุช ุงุฑุณุงู ูโฺฉูุฏ:

```
article.php?id=1
article.php?id=2
article.php?id=3
```

---

## โ๏ธ ูฺฉุชู ุงููุช

ุงุณุชูุงุฏู ูุณุชูู ุงุฒ `$_GET['id']` ุฏุฑ ฺฉูุฆุฑ SQL ูโุชูุงูุฏ ุจุงุนุซ **SQL Injection** ุดูุฏ. ุฏุฑ ุนูู ุจุงุฏ ุงุฒ **Prepared Statement** ุง ุชุงุจุน `mysqli_real_escape_string()` ุจุฑุง ูพุงฺฉโุณุงุฒ ูุฑูุฏโูุง ุงุณุชูุงุฏู ุดูุฏ.

---

## ๐ ููุงุจุน

* [PHP Manual: Superglobals](https://www.php.net/manual/en/language.variables.superglobals.php)
* [PHP Manual: $_GET](https://www.php.net/manual/en/reserved.variables.get.php)

---

โ ุจุง ุงุฌุฑุง ุงู ูุฑุงุญู ุงฺฉููู ูุจโุณุงุช ุดูุง ูโุชูุงูุฏ ูุฑ ููุงูู ุฑุง ุงุฒ ุทุฑู ุดูุงุณูโ ููุฌูุฏ ุฏุฑ URL ูุงฺฉุด ู ููุงุด ุฏูุฏ.
