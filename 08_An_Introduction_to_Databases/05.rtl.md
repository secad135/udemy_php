# 📘 جزوه SQL: ایندکس‌ها و بهینه‌سازی کوئری‌ها

## 1. استفاده از WHERE و مشکل عملکرد

- وقتی یک دستور SQL شامل `WHERE` باشد، دیتابیس باید تمام رکوردها را بررسی کند تا شرط مطابقت را پیدا کند.
- این عملیات در جدول‌های بزرگ می‌تواند بسیار کند باشد.

### مثال:
```sql
SELECT * FROM articles WHERE title = 'Example';
````

* بدون ایندکس، دیتابیس مجبور است کل جدول را اسکن کند.

## 2. مفهوم Index

* ایندکس مشابه فهرست کتاب است که صفحات مربوط به یک موضوع را سریع پیدا می‌کند.
* با ایجاد ایندکس روی ستون‌ها، جستجو با `WHERE` سریع‌تر انجام می‌شود.

### ایجاد ایندکس روی یک ستون

```sql
CREATE INDEX idx_title ON articles(title);
```

* نوع ایندکس: `INDEX` برای مقادیر تکراری، `UNIQUE` برای مقادیر غیرتکراری.
* دیتابیس ایندکس‌ها را به صورت خودکار نگهداری می‌کند.

## 3. اهمیت ایندکس روی ستون‌های پرجستجو

* هر ستونی که در `WHERE` استفاده می‌شود، باید ایندکس داشته باشد.
* بدون ایندکس، جستجو روی جداول بزرگ بسیار کند خواهد بود.

## 4. استفاده از Index برای مرتب‌سازی

* نتیجه کوئری‌ها بدون `ORDER BY` ترتیب مشخص ندارد.
* برای مرتب‌سازی سریع، ستون‌های مورد استفاده در `ORDER BY` باید ایندکس داشته باشند.

### مثال مرتب‌سازی صعودی

```sql
SELECT * FROM articles ORDER BY title ASC;
```

### مثال مرتب‌سازی نزولی

```sql
SELECT * FROM articles ORDER BY title DESC;
```

## 5. نکات مهم

* ایندکس‌ها سرعت جستجو و مرتب‌سازی را افزایش می‌دهند.
* اما درج و بروزرسانی داده‌ها روی جداول با ایندکس بیشتر زمان می‌برد.
* فقط ستون‌هایی که زیاد جستجو یا مرتب می‌شوند، باید ایندکس داشته باشند.
